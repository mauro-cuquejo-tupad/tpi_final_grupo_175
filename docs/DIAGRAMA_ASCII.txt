# Vista Rápida del Sistema - Diagrama ASCII

```
╔═══════════════════════════════════════════════════════════════════════════════╗
║                    SISTEMA GESTOR DE ENVÍOS - GRUPO 175                       ║
║                         Arquitectura de Clases                                ║
╚═══════════════════════════════════════════════════════════════════════════════╝


┌─────────────────────────────────────────────────────────────────────────────┐
│                           CAPA DE ENTIDADES                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│   ┌─────────────────┐                      ┌─────────────────┐              │
│   │     Pedido      │                      │      Envio      │              │
│   ├─────────────────┤                      ├─────────────────┤              │
│   │ - id            │                      │ - id            │              │
│   │ - numero        │◄────────────────────┤│ - tracking      │              │
│   │ - fecha         │  tiene 0..1         │ │ - empresa       │              │
│   │ - clienteNombre │                      │ - tipo          │              │
│   │ - total         │                      │ - costo         │              │
│   │ - estado        │                      │ - estado        │              │
│   │ - envio         │                      │ - fechaDespacho │              │
│   │ - eliminado     │                      │ - eliminado     │              │
│   └─────────────────┘                      └─────────────────┘              │
│          │                                         │                         │
│          │ usa                                     │ usa                     │
│          ▼                                         ▼                         │
│   ┌──────────────┐                       ┌──────────────────┐               │
│   │EstadoPedido  │                       │   EstadoEnvio    │               │
│   ├──────────────┤                       ├──────────────────┤               │
│   │ • NUEVO      │                       │ • EN_PREPARACION │               │
│   │ • FACTURADO  │                       │ • EN_TRANSITO    │               │
│   │ • ENVIADO    │                       │ • ENTREGADO      │               │
│   └──────────────┘                       └──────────────────┘               │
│                                                    │                         │
│                                    ┌───────────────┴───────────────┐         │
│                                    │                               │         │
│                            ┌───────▼────────┐          ┌──────────▼──────┐  │
│                            │ EmpresaEnvio   │          │   TipoEnvio     │  │
│                            ├────────────────┤          ├─────────────────┤  │
│                            │ • ANDREANI     │          │ • ESTANDAR      │  │
│                            │ • OCA          │          │ • EXPRES        │  │
│                            │ • CORREO_ARG   │          └─────────────────┘  │
│                            └────────────────┘                               │
└─────────────────────────────────────────────────────────────────────────────┘


┌─────────────────────────────────────────────────────────────────────────────┐
│                              CAPA DAO                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│                        ┌──────────────────────┐                             │
│                        │   GenericDAO<T>      │                             │
│                        │   <<interface>>      │                             │
│                        ├──────────────────────┤                             │
│                        │ + insertar()         │                             │
│                        │ + insertarTx()       │                             │
│                        │ + actualizar()       │                             │
│                        │ + actualizarTx()     │                             │
│                        │ + buscarPorId()      │                             │
│                        │ + buscarTodos()      │                             │
│                        │ + eliminarLogico()   │                             │
│                        └──────────┬───────────┘                             │
│                                   │                                         │
│                    ┌──────────────┴──────────────┐                          │
│                    │                             │                          │
│          ┌─────────▼──────────┐      ┌──────────▼──────────┐               │
│          │    PedidoDAO       │      │     EnvioDAO        │               │
│          ├────────────────────┤      ├─────────────────────┤               │
│          │ + buscarPorNumero()│      │ + buscarPorTracking()              │
│          │ + buscarPorTracking│      │ + buscarPorNumeroPedido()          │
│          │ + buscarPorCliente()│      │ + obtenerCantidadTotal()           │
│          │ + obtenerUltimoNum()│      └─────────────────────┘               │
│          └────────────────────┘                                             │
│                    │                             │                          │
│                    └─────────────┬───────────────┘                          │
│                                  │                                          │
│                                  ▼                                          │
│                      ┌───────────────────────┐                              │
│                      │ DatabaseConnection    │                              │
│                      ├───────────────────────┤                              │
│                      │ + getConnection()     │                              │
│                      └───────────────────────┘                              │
└─────────────────────────────────────────────────────────────────────────────┘


┌─────────────────────────────────────────────────────────────────────────────┐
│                           CAPA DE SERVICIOS                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│                        ┌───────────────────────┐                            │
│                        │ GenericService<T>     │                            │
│                        │   <<interface>>       │                            │
│                        ├───────────────────────┤                            │
│                        │ + crear()             │                            │
│                        │ + buscarTodos()       │                            │
│                        │ + buscarPorId()       │                            │
│                        │ + actualizar()        │                            │
│                        │ + eliminar()          │                            │
│                        └─────────┬─────────────┘                            │
│                                  │                                          │
│                  ┌───────────────┴────────────────┐                         │
│                  │                                │                         │
│    ┌─────────────▼─────────────┐   ┌─────────────▼──────────────┐          │
│    │GenericPedidosService<T>   │   │GenericEnviosService<T, U>  │          │
│    │     <<interface>>          │   │     <<interface>>          │          │
│    ├───────────────────────────┤   ├────────────────────────────┤          │
│    │ + buscarPorNumero()       │   │ + buscarPorTracking()      │          │
│    │ + buscarPorTracking()     │   │ + buscarPorNumeroPedido()  │          │
│    │ + buscarPorCliente()      │   │ + crearEnvioYActualizar()  │          │
│    │ + actualizarTx()          │   │ + actualizarEstado()       │          │
│    └─────────────┬─────────────┘   └─────────────┬──────────────┘          │
│                  │                               │                         │
│                  │                               │                         │
│    ┌─────────────▼─────────────┐   ┌─────────────▼──────────────┐          │
│    │  PedidoServiceImpl        │   │   EnvioServiceImpl         │          │
│    ├───────────────────────────┤   ├────────────────────────────┤          │
│    │ - pedidoDAO               │   │ - envioDAO                 │          │
│    ├───────────────────────────┤   │ - pedidosService           │          │
│    │ + crear()                 │   ├────────────────────────────┤          │
│    │ + buscarTodos()           │   │ + crear()                  │          │
│    │ + actualizar()            │   │ + buscarTodos()            │          │
│    │ + eliminar()              │   │ + actualizar()             │          │
│    │ - validarPedido()         │   │ + eliminar()               │          │
│    │ - generarNumero()         │   │ - validarEnvio()           │          │
│    └───────────────────────────┘   │ - generarTracking()        │          │
│                                    └────────────────────────────┘          │
│                                                                              │
│                        ┌───────────────────────┐                            │
│                        │ TransactionManager    │                            │
│                        ├───────────────────────┤                            │
│                        │ + startTransaction()  │                            │
│                        │ + commit()            │                            │
│                        │ + rollback()          │                            │
│                        │ + close()             │                            │
│                        └───────────────────────┘                            │
└─────────────────────────────────────────────────────────────────────────────┘


┌─────────────────────────────────────────────────────────────────────────────┐
│                          CAPA UI - CONTROLADORES                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│                           ┌──────────────┐                                  │
│                           │   AppMenu    │                                  │
│                           ├──────────────┤                                  │
│                           │ + run()      │                                  │
│                           └──────┬───────┘                                  │
│                                  │                                          │
│                           ┌──────▼───────┐                                  │
│                           │ MenuHandler  │                                  │
│                           ├──────────────┤                                  │
│                           │ - pedidoSvc  │                                  │
│                           │ - envioSvc   │                                  │
│                           └──────┬───────┘                                  │
│                                  │                                          │
│                  ┌───────────────┴────────────────┐                         │
│                  │                                │                         │
│    ┌─────────────▼──────────┐      ┌──────────────▼─────────┐              │
│    │PedidoConsoleController │      │ EnvioConsoleController │              │
│    ├────────────────────────┤      ├────────────────────────┤              │
│    │ + crearPedido()        │      │ + crearEnvio()         │              │
│    │ + buscarPorNumero()    │      │ + buscarPorTracking()  │              │
│    │ + actualizarPedido()   │      │ + actualizarEnvio()    │              │
│    │ + eliminarPedido()     │      │ + eliminarEnvio()      │              │
│    └────────────────────────┘      └────────────────────────┘              │
└─────────────────────────────────────────────────────────────────────────────┘


┌─────────────────────────────────────────────────────────────────────────────┐
│                        CAPA UI - INPUT/OUTPUT                                │
├──────────────────────────────────────────────────────��──────────────────────┤
│                                                                              │
│   ┌──────────────────┐         ┌───────────────────┐                        │
│   │  InputReader     │         │   MenuDisplay     │                        │
│   │  <<interface>>   │         ├───────────────────┤                        │
│   ├──────────────────┤         │ + mostrarMenu()   │                        │
│   │ + nextLine()     │         │ + mostrarEstados()│                        │
│   │ + nextInt()      │         └───────────────────┘                        │
│   │ + nextDouble()   │                                                      │
│   └────────┬─────────┘                                                      │
│            │                                                                │
│   ┌────────▼──────────────┐                                                 │
│   │ConsoleInputReader     │                                                 │
│   ├───────────────────────┤                                                 │
│   │ - scanner             │                                                 │
│   └───────────────────────┘                                                 │
│                                                                              │
│   ┌───────────────────┐         ┌───────────────────┐                       │
│   │  PedidoPrinter    │         │   EnvioPrinter    │                       │
│   ├───────────────────┤         ├───────────────────┤                       │
│   │ + imprimirPedido()│         │ + imprimirEnvio() │                       │
│   │ + imprimirLista() │         │ + imprimirLista() │                       │
│   └───────────────────┘         └───────────────────┘                       │
│                                                                              │
│   ┌───────────────────┐                                                     │
│   │   Paginador<T>    │                                                     │
│   ├───────────────────┤                                                     │
│   │ + paginar()       │                                                     │
│   └───────────────────┘                                                     │
└─────────────────────────────────────────────────────────────────────────────┘


┌─────────────────────────────────────────────────────────────────────────────┐
│                             EXCEPCIONES                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│                         ┌──────────────┐                                    │
│                         │  Exception   │                                    │
│                         └──────┬───────┘                                    │
│                                │                                            │
│          ┌─────────────────────┼─────────────────────┐                      │
│          │                     │                     │                      │
│  ┌───────▼───────┐   ┌─────────▼────────┐  ┌────────▼─────────┐            │
│  │ CreacionEntity│   │ConsultaEntity    │  │ActualizacionEntity           │
│  │  Exception    │   │  Exception       │  │  Exception       │            │
│  └───────────────┘   └──────────────────┘  └──────────────────┘            │
│                                │                                            │
│                      ┌─────────▼──────────┐                                 │
│                      │ EliminacionEntity  │                                 │
│                      │   Exception        │                                 │
│                      └────────────────────┘                                 │
└─────────────────────────────────────────────────────────────────────────────┘


╔═══════════════════════════════════════════════════════════════════════════════╗
║                            FLUJO DE DATOS                                      ║
╠═══════════════════════════════════════════════════════════════════════════════╣
║                                                                               ║
║  Usuario → AppMenu → MenuHandler → Controllers → Services → DAOs → Database   ║
║                                                                               ║
║  Database → DAOs → Services → Controllers → Printers → Consola → Usuario      ║
║                                                                               ║
╚═══════════════════════════════════════════════════════════════════════════════╝


╔═══════════════════════════════════════════════════════════════════════════════╗
║                       PATRONES DE DISEÑO APLICADOS                             ║
╠═══════════════════════════════════════════════════════════════════════════════╣
║                                                                               ║
║  ✓ DAO Pattern              - Separación acceso a datos                       ║
║  ✓ Service Layer            - Lógica de negocio encapsulada                   ║
║  ✓ Dependency Injection     - Inyección manual de dependencias                ║
║  ✓ Singleton                - ApplicationConfig, DatabaseConnection           ║
║  ✓ Template Method          - GenericDAO, GenericService                      ║
║  ✓ Strategy                 - InputReader con diferentes implementaciones     ║
║  ✓ Transaction Script       - TransactionManager con try-with-resources       ║
║                                                                               ║
╚═══════════════════════════════════════════════════════════════════════════════╝

```

---

**Grupo 175 - TPI Final Programación 2**
**UTN - Universidad Tecnológica Nacional**

